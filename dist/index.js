!function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=57)}([function(t,e){t.exports=function n(t){return t&&t.__esModule?t:{"default":t}}},function(t,e){t.exports=function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(44)("wks"),o=n(27),i=n(5).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var v=n(5),y=n(3),g=n(15),m=n(19),x=n(20),b="prototype",w=function(t,e,n){var r,o,i,a,u=t&w.F,c=t&w.G,s=t&w.S,f=t&w.P,l=t&w.B,d=c?v:s?v[e]||(v[e]={}):(v[e]||{})[b],h=c?y:y[e]||(y[e]={}),p=h[b]||(h[b]={});for(r in c&&(n=e),n)i=((o=!u&&d&&d[r]!==undefined)?d:n)[r],a=l&&o?x(i,v):f&&"function"==typeof i?x(Function.call,i):i,d&&m(d,r,i,t&w.U),h[r]!=i&&g(h,r,a),f&&p[r]!=i&&(p[r]=i)};v.core=y,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n},function(t,e,n){var r=n(54),o=n(115);t.exports=function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(117);t.exports=function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=n(108)},function(t,e){function c(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function n(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){c(r,e,n,o,i,"next",t)}function i(t){c(r,e,n,o,i,"throw",t)}o(undefined)})}}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(1)),i=r(n(2)),a=n(17),u=function(){function n(t,e){(0,o["default"])(this,n),this.target=t,this.type=e}return(0,i["default"])(n,[{key:"handler",value:function(){console.log("Listener handler")}},{key:"add",value:function(){(0,a.addEvent)(this.target,this.type,this.handler.bind(this)),console.log("".concat(this.type," event added"))}},{key:"remove",value:function(){(0,a.removeEvent)(this.target,this.type,this.handler),console.log("".concat(this.type," event removed"))}}]),n}();e["default"]=u},function(t,e,n){var r=n(18),o=n(41);t.exports=n(16)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";function r(){for(var t="",e=0;e<32;e++)t+="x";return t.replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function a(t){for(var e=[];t.parentNode;){for(var n=0,r=0,o="",i=t.parentNode.children||[],a=0;a<i.length;a++){var u=i[a];u.nodeName===t.nodeName&&(r=u===t?n:r,n++)}if("html"===t.nodeName.toLowerCase())break;o=t.nodeName.toLowerCase(),o+=t.id?"#"+t.id:1<n?":eq("+r+")":"",e.unshift(o),t=t.parentNode}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.uuid=function o(){return(new Date).getTime()+"|"+r()},e.random=r,e.clone=function i(t){var e={};for(var n in t)e[n]=t[n];return e},e.pick=function u(e,t){var n={};return t.map(function(t){n[t]=e[t]}),n},e.addEvent=function c(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(t){return n.call(e,t)},!1)},e.removeEvent=function s(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,function(t){return n.call(e,t)},!0)},e.isSupportWs=function f(){return window.WebSocket!==undefined},e.IEVersion=function l(){var t=navigator.userAgent,e=-1<t.indexOf("compatible")&&-1<t.indexOf("MSIE"),n=-1<t.indexOf("Edge")&&!e,r=-1<t.indexOf("Trident")&&-1<t.indexOf("rv:11.0");{if(e){var o=new RegExp("MSIE (\\d+\\.\\d+);");o.test(t);var i=parseFloat(RegExp["$1"]);return 7===i?7:8===i?8:9===i?9:10===i?10:6}return n?"edge":r?11:-1}},e.getAllNodesPath=a,e.getAllNodesMsg=function d(t){var e=[];for(var n=0;n<t.length;n++){var r="",o=t[n].innerText.substring(0,20).replace(/[\s\r\n↵]/g,"")||t[n].title||t[n].name;if("br"!==t[n].nodeName.toLowerCase()&&"script"!==t[n].nodeName.toLowerCase()){if(r=a(t[n]),!o){var i=t[n].nodeName.toLowerCase();switch(i){case"img":o="图片"+ +new Date;break;case"canvas":case"body":o="图表"+ +new Date;break;default:o=r.reverse().join("/")}}1===t[n].nodeType&&e.push({sign:r.join("/"),x:Math.round(t[n].getBoundingClientRect().x),y:Math.round(t[n].getBoundingClientRect().y),index:r.length,width:t[n].offsetWidth,height:t[n].offsetHeight,label:o}),0<t[n].children.length&&d(t[n].children)}}return e}},function(t,e,n){var o=n(10),i=n(60),a=n(61),u=Object.defineProperty;e.f=n(16)?Object.defineProperty:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(5),a=n(15),u=n(25),c=n(27)("src"),r="toString",o=Function[r],s=(""+o).split(r);n(3).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(u(n,"name")||a(n,"name",e)),t[e]!==n&&(o&&(u(n,c)||a(n,c,t[e]?""+t[e]:s.join(String(e)))),t===i?t[e]=n:r?t[e]?t[e]=n:a(t,e,n):(delete t[e],a(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[c]||o.call(this)})},function(t,e,n){var i=n(21);t.exports=function(r,o,t){if(i(r),o===undefined)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(11),o=n(5).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(65),o=n(45);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(30),o=n(31);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(33),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(44)("keys"),o=n(27);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(31);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(24);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var o=n(22),i=n(4)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=function(t){var e,n,r;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(18).f,o=n(25),i=n(4)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var o=n(21);function r(t){var n,r;this.promise=new t(function(t,e){if(n!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=o(n),this.reject=o(r)}t.exports.f=function(t){return new r(t)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var o=r(10),i=r(64),a=r(45),u=r(34)("IE_PROTO"),c=function(){},s="prototype",f=function(){var t,e=r(26)("iframe"),n=a.length;for(e.style.display="none",r(46).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f[s][a[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(c[s]=o(t),n=new c,c[s]=null,n[u]=t):n=f(),e===undefined?n:i(n,e)}},function(t,e,n){var c=n(29),s=n(32),f=n(66);t.exports=function(u){return function(t,e,n){var r,o=c(t),i=s(o.length),a=f(n,i);if(u&&e!=e){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((u||a in o)&&o[a]===e)return u||a||0;return!u&&-1}}},function(t,e,n){var r=n(3),o=n(5),i="__core-js_shared__",a=o[i]||(o[i]={});(t.exports=function(t,e){return a[t]||(a[t]=e!==undefined?e:{})})("versions",[]).push({version:r.version,mode:n(35)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(5).document;t.exports=r&&r.documentElement},function(t,e,n){var x=n(20),b=n(30),w=n(36),_=n(32),r=n(74);t.exports=function(l,t){var d=1==l,h=2==l,p=3==l,v=4==l,y=6==l,g=5==l||y,m=t||r;return function(t,e,n){for(var r,o,i=w(t),a=b(i),u=x(e,n,3),c=_(a.length),s=0,f=d?m(t,c):h?m(t,0):undefined;s<c;s++)if((g||s in a)&&(o=u(r=a[s],s,i),l))if(d)f[s]=o;else if(o)switch(l){case 3:return!0;case 5:return r;case 6:return s;case 2:f.push(r)}else if(v)return!1;return y?-1:p||v?v:f}}},function(t,e){t.exports=function(t,e,n){var r=n===undefined;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var x=n(35),b=n(6),w=n(19),_=n(15),O=n(23),k=n(88),S=n(39),j=n(89),L=n(4)("iterator"),E=!([].keys&&"next"in[].keys()),P="values",M=function(){return this};t.exports=function(t,e,n,r,o,i,a){k(n,e,r);var u,c,s,f=function(t){if(!E&&t in p)return p[t];switch(t){case"keys":case P:return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",d=o==P,h=!1,p=t.prototype,v=p[L]||p["@@iterator"]||o&&p[o],y=v||f(o),g=o?d?f("entries"):y:undefined,m="Array"==e&&p.entries||v;if(m&&(s=j(m.call(new t)))!==Object.prototype&&s.next&&(S(s,l,!0),x||"function"==typeof s[L]||_(s,L,M)),d&&v&&v.name!==P&&(h=!0,y=function(){return v.call(this)}),x&&!a||!E&&!h&&p[L]||_(p,L,y),O[e]=y,O[l]=M,o)if(u={values:d?y:f(P),keys:i?y:f("keys"),entries:g},a)for(c in u)c in p||w(p,c,u[c]);else b(b.P+b.F*(E||h),e,u);return u}},function(t,e,n){var o=n(10),i=n(21),a=n(4)("species");t.exports=function(t,e){var n,r=o(t).constructor;return r===undefined||(n=o(r)[a])==undefined?e:i(n)}},function(t,e,n){var r,o,i,a=n(20),u=n(48),c=n(46),s=n(26),f=n(5),l=f.process,d=f.setImmediate,h=f.clearImmediate,p=f.MessageChannel,v=f.Dispatch,y=0,g={},m="onreadystatechange",x=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){x.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++y]=function(){u("function"==typeof t?t:Function(t),e)},r(y),y},h=function(t){delete g[t]},"process"==n(22)(l)?r=function(t){l.nextTick(a(x,t,1))}:v&&v.now?r=function(t){v.now(a(x,t,1))}:p?(i=(o=new p).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",b,!1)):r=m in s("script")?function(t){c.appendChild(s("script"))[m]=function(){c.removeChild(this),x.call(t)}}:function(t){setTimeout(a(x,t,1),0)}),t.exports={set:d,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,n){var r=n(10),o=n(11),i=n(40);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(e,t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(t){return n(t)}:e.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(t)}e.exports=r},function(r,t,e){e(7);var i=e(116);function o(t,e,n){return"undefined"!=typeof Reflect&&Reflect.get?r.exports=o=Reflect.get:r.exports=o=function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},o(t,e,n||t)}r.exports=o},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(1)),i=r(n(2)),a=function(){function n(t,e){(0,o["default"])(this,n),this.delay=t,this.id=null,this.startTime=null,this.type=e}return(0,i["default"])(n,[{key:"code",value:function(){console.log("Interval code")}},{key:"set",value:function(){this.id=setInterval(this.code.bind(this),this.delay),this.startTime=(new Date).getTime(),console.log("".concat(this.type," interval setted"))}},{key:"clear",value:function(){null!==this.id?(clearInterval(this.id),this.id=null,console.log("".concat(this.type," interval cleared"))):console.log("".concat(this.type," interval is not setted"))}}]),n}();e["default"]=a},function(t,e,n){"use strict";n(58),n(62),n(67),n(72),n(77),n(79),n(81),n(84);var r=new(n(107)["default"]);r.start(),window.sdk={storeUserId:r.storeUserId.bind(r),dispatch:r.dispatch.bind(r),getDeviceId:r.getDeviceId}},function(t,e,n){n(59);var r=n(3).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(6);r(r.S+r.F*!n(16),"Object",{defineProperty:n(18).f})},function(t,e,n){t.exports=!n(16)&&!n(24)(function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(11);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){n(63);var r=n(3).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(6);r(r.S,"Object",{create:n(42)})},function(t,e,n){var a=n(18),u=n(10),c=n(28);t.exports=n(16)?Object.defineProperties:function(t,e){u(t);for(var n,r=c(e),o=r.length,i=0;i<o;)a.f(t,n=r[i++],e[n]);return t}},function(t,e,n){var a=n(25),u=n(29),c=n(43)(!1),s=n(34)("IE_PROTO");t.exports=function(t,e){var n,r=u(t),o=0,i=[];for(n in r)n!=s&&a(r,n)&&i.push(n);for(;e.length>o;)a(r,n=e[o++])&&(~c(i,n)||i.push(n));return i}},function(t,e,n){var r=n(33),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){n(68),t.exports=n(3).Object.assign},function(t,e,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(69)})},function(t,e,n){"use strict";var d=n(28),h=n(70),p=n(71),v=n(36),y=n(30),o=Object.assign;t.exports=!o||n(24)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=o({},t)[n]||Object.keys(o({},e)).join("")!=r})?function(t,e){for(var n=v(t),r=arguments.length,o=1,i=h.f,a=p.f;o<r;)for(var u,c=y(arguments[o++]),s=i?d(c).concat(i(c)):d(c),f=s.length,l=0;l<f;)a.call(c,u=s[l++])&&(n[u]=c[u]);return n}:o},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){n(73),t.exports=n(3).Array.forEach},function(t,e,n){"use strict";var r=n(6),o=n(47)(0),i=n(37)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(75);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(11),o=n(76),i=n(4)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=undefined),r(e)&&null===(e=e[i])&&(e=undefined)),e===undefined?Array:e}},function(t,e,n){var r=n(22);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){n(78),t.exports=n(3).Array.indexOf},function(t,e,n){"use strict";var r=n(6),o=n(43)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(37)(i)),"Array",{indexOf:function(t){return a?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){n(80),t.exports=n(3).Array.map},function(t,e,n){"use strict";var r=n(6),o=n(47)(1);r(r.P+r.F*!n(37)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){n(82),t.exports=n(3).Function.bind},function(t,e,n){var r=n(6);r(r.P,"Function",{bind:n(83)})},function(t,e,n){"use strict";var i=n(21),a=n(11),u=n(48),c=[].slice,s={};t.exports=Function.bind||function(e){var n=i(this),r=c.call(arguments,1),o=function(){var t=r.concat(c.call(arguments));return this instanceof o?function(t,e,n){if(!(e in s)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(n,t.length,t):u(n,t,e)};return a(n.prototype)&&(o.prototype=n.prototype),o}},function(t,e,n){n(85),n(86),n(90),n(94),n(105),n(106),t.exports=n(3).Promise},function(t,e,n){"use strict";var r=n(38),o={};o[n(4)("toStringTag")]="z",o+""!="[object z]"&&n(19)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){"use strict";var r=n(87)(!0);n(49)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:undefined,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var c=n(33),s=n(31);t.exports=function(u){return function(t,e){var n,r,o=String(s(t)),i=c(e),a=o.length;return i<0||a<=i?u?"":undefined:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?u?o.charAt(i):n:u?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(42),o=n(41),i=n(39),a={};n(15)(a,n(4)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(25),o=n(36),i=n(34)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){for(var r=n(91),o=n(28),i=n(19),a=n(5),u=n(15),c=n(23),s=n(4),f=s("iterator"),l=s("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),v=0;v<p.length;v++){var y,g=p[v],m=h[g],x=a[g],b=x&&x.prototype;if(b&&(b[f]||u(b,f,d),b[l]||u(b,l,g),c[g]=d,m))for(y in r)b[y]||i(b,y,r[y],!0)}},function(t,e,n){"use strict";var r=n(92),o=n(93),i=n(23),a=n(29);t.exports=n(49)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=undefined,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(4)("unscopables"),o=Array.prototype;o[r]==undefined&&n(15)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){"use strict";var n,o,i,a,u=r(35),c=r(5),s=r(20),f=r(38),l=r(6),d=r(11),h=r(21),p=r(95),v=r(96),y=r(50),g=r(51).set,m=r(100)(),x=r(40),b=r(52),w=r(101),_=r(53),O="Promise",k=c.TypeError,S=c.process,j=S&&S.versions,L=j&&j.v8||"",E=c[O],P="process"==f(S),M=function(){},T=o=x.f,N=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[r(4)("species")]=function(t){t(M,M)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==L.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(n){}}(),I=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},C=function(l,n){if(!l._n){l._n=!0;var r=l._c;m(function(){for(var s=l._v,f=1==l._s,t=0,e=function(t){var e,n,r,o=f?t.ok:t.fail,i=t.resolve,a=t.reject,u=t.domain;try{o?(f||(2==l._h&&R(l),l._h=1),!0===o?e=s:(u&&u.enter(),e=o(s),u&&(u.exit(),r=!0)),e===t.promise?a(k("Promise-chain cycle")):(n=I(e))?n.call(e,i,a):i(e)):a(s)}catch(c){u&&!r&&u.exit(),a(c)}};r.length>t;)e(r[t++]);l._c=[],l._n=!1,n&&!l._h&&A(l)})}},A=function(i){g.call(c,function(){var t,e,n,r=i._v,o=U(i);if(o&&(t=b(function(){P?S.emit("unhandledRejection",r,i):(e=c.onunhandledrejection)?e({promise:i,reason:r}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",r)}),i._h=P||U(i)?2:1),i._a=undefined,o&&t.e)throw t.v})},U=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(e){g.call(c,function(){var t;P?S.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},D=function(n){var r,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===n)throw k("Promise can't be resolved itself");(r=I(n))?m(function(){var t={_w:o,_d:!1};try{r.call(n,s(D,t,1),s(F,t,1))}catch(e){F.call(t,e)}}):(o._v=n,o._s=1,C(o,!1))}catch(t){F.call({_w:o,_d:!1},t)}}};N||(E=function(t){p(this,E,O,"_h"),h(t),n.call(this);try{t(s(D,this,1),s(F,this,1))}catch(e){F.call(this,e)}},(n=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=r(102)(E.prototype,{then:function(t,e){var n=T(y(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=P?S.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},"catch":function(t){return this.then(undefined,t)}}),i=function(){var t=new n;this.promise=t,this.resolve=s(D,t,1),this.reject=s(F,t,1)},x.f=T=function(t){return t===E||t===a?new i(t):o(t)}),l(l.G+l.W+l.F*!N,{Promise:E}),r(39)(E,O),r(103)(O),a=r(3)[O],l(l.S+l.F*!N,O,{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(u||!N),O,{resolve:function(t){return _(u&&this===a?E:this,t)}}),l(l.S+l.F*!(N&&r(104)(function(t){E.all(t)["catch"](M)})),O,{all:function(t){var a=this,e=T(a),u=e.resolve,c=e.reject,n=b(function(){var r=[],o=0,i=1;v(t,!1,function(t){var e=o++,n=!1;r.push(undefined),i++,a.resolve(t).then(function(t){n||(n=!0,r[e]=t,--i||u(r))},c)}),--i||u(r)});return n.e&&c(n.v),e.promise},race:function(t){var e=this,n=T(e),r=n.reject,o=b(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||r!==undefined&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var d=n(20),h=n(97),p=n(98),v=n(10),y=n(32),g=n(99),m={},x={};(e=t.exports=function(t,e,n,r,o){var i,a,u,c,s=o?function(){return t}:g(t),f=d(n,r,e?2:1),l=0;if("function"!=typeof s)throw TypeError(t+" is not iterable!");if(p(s)){for(i=y(t.length);l<i;l++)if((c=e?f(v(a=t[l])[0],a[1]):f(t[l]))===m||c===x)return c}else for(u=s.call(t);!(a=u.next()).done;)if((c=h(u,f,a.value,e))===m||c===x)return c}).BREAK=m,e.RETURN=x},function(t,e,n){var a=n(10);t.exports=function(t,e,n,r){try{return r?e(a(n)[0],n[1]):e(n)}catch(i){var o=t["return"];throw o!==undefined&&a(o.call(t)),i}}},function(t,e,n){var r=n(23),o=n(4)("iterator"),i=Array.prototype;t.exports=function(t){return t!==undefined&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(38),o=n(4)("iterator"),i=n(23);t.exports=n(3).getIteratorMethod=function(t){if(t!=undefined)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var u=n(5),c=n(51).set,s=u.MutationObserver||u.WebKitMutationObserver,f=u.process,l=u.Promise,d="process"==n(22)(f);t.exports=function(){var r,o,i,t=function(){var t,e;for(d&&(t=f.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(n){throw r?i():o=undefined,n}}o=undefined,t&&t.enter()};if(d)i=function(){f.nextTick(t)};else if(!s||u.navigator&&u.navigator.standalone)if(l&&l.resolve){var e=l.resolve(undefined);i=function(){e.then(t)}}else i=function(){c.call(u,t)};else{var n=!0,a=document.createTextNode("");new s(t).observe(a,{characterData:!0}),i=function(){a.data=n=!n}}return function(t){var e={fn:t,next:undefined};o&&(o.next=e),r||(r=e,i()),o=e}}},function(t,e,n){var r=n(5).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var o=n(19);t.exports=function(t,e,n){for(var r in e)o(t,r,e[r],n);return t}},function(t,e,n){"use strict";var r=n(5),o=n(18),i=n(16),a=n(4)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(4)("iterator"),a=!1;try{var r=[7][i]();r["return"]=function(){a=!0},Array.from(r,function(){throw 2})}catch(u){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},t(r)}catch(u){}return n}},function(t,e,n){"use strict";var r=n(6),o=n(3),i=n(5),a=n(50),u=n(53);r(r.P+r.R,"Promise",{"finally":function(e){var n=a(this,o.Promise||i.Promise),t="function"==typeof e;return this.then(t?function(t){return u(n,e()).then(function(){return t})}:e,t?function(t){return u(n,e()).then(function(){throw t})}:e)}})},function(t,e,n){"use strict";var r=n(6),o=n(40),i=n(52);r(r.S,"Promise",{"try":function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=r(n(12)),a=r(n(13)),u=r(n(1)),c=r(n(2)),s=r(n(110)),f=r(n(113)),l=r(n(114)),d=r(n(126)),o=function(){function o(){if((0,u["default"])(this,o),"undefined"==typeof _XT)throw TypeError("必须定义全局配置变量 _XT，配置指定的请求Url。示例： let _XT = []");var t={};for(var e in _XT)switch(_XT[e][0]){case"token":d["default"].token=_XT[e][1];break;case"channelCode":d["default"].channelCode=_XT[e][1];break;case"serverUrl":d["default"].serverUrl=_XT[e][1];break;case"wsUrl":d["default"].wsUrl=_XT[e][1]}var n=new f["default"]({token:d["default"].token,channelCode:d["default"].channelCode});n.setDevice();var r=new s["default"]({serverUrl:d["default"].serverUrl,wsUrl:d["default"].wsUrl});t.params=n,t.sender=r,t.config=d["default"],this.ctx=t}var t;return(0,c["default"])(o,[{key:"start",value:(t=(0,a["default"])(i["default"].mark(function n(){var e;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=new l["default"](this.ctx),(this.ctx.onload=e).add();case 3:case"end":return t.stop()}},n,this)})),function e(){return t.apply(this,arguments)})},{key:"storeUserId",value:function(t){sessionStorage.setItem("userId",t)}},{key:"dispatch",value:function(t,e,n){var r=this.ctx.params.device,o=this.ctx.params.getHeader(),i=this.ctx.params.getEvent({type:t,data:n});if(e){var a=e;i.pageElement="{nodeName:"+a.nodeName+",title:"+a.title+",text:"+a.innerHTML+"}"}this.ctx.sender.send({device:r,header:o,event:[i]})}},{key:"getDeviceId",value:function(){return localStorage.getItem("deviceId")}}]),o}();e["default"]=o},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=undefined,t.exports=n(109),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=undefined}},function(N,t){!function(t){"use strict";var c,e=Object.prototype,s=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a="object"==typeof N,u=t.regeneratorRuntime;if(u)a&&(N.exports=u);else{(u=t.regeneratorRuntime=a?N.exports:{}).wrap=x;var f="suspendedStart",l="suspendedYield",d="executing",h="completed",p={},v={};v[o]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(M([])));g&&g!==e&&s.call(g,o)&&(v=g);var m=O.prototype=w.prototype=Object.create(v);_.prototype=m.constructor=O,O.constructor=_,O[i]=_.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(m),t},u.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[r]=function(){return this},u.AsyncIterator=S,u.async=function(t,e,n,r){var o=new S(x(t,e,n,r));return u.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},k(m),m[i]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},u.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function r(){for(;n.length;){var t=n.pop();if(t in e)return r.value=t,r.done=!1,r}return r.done=!0,r}},u.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},"catch":function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),p}}}function x(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function s(i,a,u){var c=f;return function(t,e){if(c===d)throw new Error("Generator is already running");if(c===h){if("throw"===t)throw e;return T()}for(u.method=t,u.arg=e;;){var n=u.delegate;if(n){var r=j(n,u);if(r){if(r===p)continue;return r}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(c===f)throw c=h,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);c=d;var o=b(i,a,u);if("normal"===o.type){if(c=u.done?h:l,o.arg===p)continue;return{value:o.arg,done:u.done}}"throw"===o.type&&(c=h,u.method="throw",u.arg=o.arg)}}}(t,n,a),i}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function w(){}function _(){}function O(){}function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(c){var e;this._invoke=function o(n,r){function t(){return new Promise(function(t,e){!function u(t,e,n,r){var o=b(c[t],c,e);if("throw"!==o.type){var i=o.arg,a=i.value;return a&&"object"==typeof a&&s.call(a,"__await")?Promise.resolve(a.__await).then(function(t){u("next",t,n,r)},function(t){u("throw",t,n,r)}):Promise.resolve(a).then(function(t){i.value=t,n(i)},function(t){return u("throw",t,n,r)})}r(o.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function j(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=c,j(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=b(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function M(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function r(){for(;++n<t.length;)if(s.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=c,r.done=!0,r};return r.next=r}}return{next:T}}function T(){return{value:c,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(12)),i=r(n(13)),a=r(n(1)),u=r(n(2)),c=n(17),s=r(n(111)),f=r(n(112)),l=function(){function e(t){(0,a["default"])(this,e),this.serverUrl=t.serverUrl,this.wsUrl=t.wsUrl}var n;return(0,u["default"])(e,[{key:"initWs",value:function(){(0,c.isSupportWs)()&&(this.ws=new s["default"]({url:this.wsUrl}),this.ws.open())}},{key:"closeWs",value:function(){this.ws&&this.ws.close()}},{key:"send",value:(n=(0,i["default"])(o["default"].mark(function t(e){var n,r;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new f["default"]({url:this.serverUrl,method:"POST"}),t.next=3,n.send(e);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function r(t){return n.apply(this,arguments)})}]),e}();e["default"]=l},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(1)),i=r(n(2)),a=function(){function e(t){(0,o["default"])(this,e),this.socket=null,this.url=t.url}return(0,i["default"])(e,[{key:"open",value:function(){var t=new WebSocket(this.url);t.onopen=function(t){console.log("Connection open ...")},t.onmessage=function(t){console.log("Received Message: "+t.data)},t.onclose=function(t){console.log("Connection closed.")},t.onerror=function(t){console.log("Connection error.")},this.socket=t}},{key:"send",value:function(t){this.socket.send(t)}},{key:"close",value:function(){this.socket&&this.socket.close&&this.socket.close()}},{key:"isOpen",value:function(){return!(!this.socket||this.socket.readyState!==WebSocket.OPEN)||(this.open(),!1)}}]),e}();e["default"]=a},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(54)),i=r(n(1)),a=r(n(2)),u=n(17),c=function(){function r(t){(0,i["default"])(this,r);var e,n=(0,u.IEVersion)();window.XMLHttpRequest?(e=new XMLHttpRequest,-1<[8,9].indexOf(n)&&(e=new XDomainRequest)):e=new ActiveXObject("Microsoft.XMLHTTP"),e.open(t.method,t.url),e.withCredentials=!1,this.xhr=e,this.ieVersion=n}return(0,a["default"])(r,[{key:"send",value:function(e){var n=this;e="object"===(0,o["default"])(e)?JSON.stringify(e):null;var r=this.xhr;return new Promise(function(t){r.send(e),-1<[8,9].indexOf(n.ieVersion)?r.onload=function(){t(JSON.parse(r.responseText))}:r.onreadystatechange=function(){4===r.readyState&&200===r.status&&t(JSON.parse(r.responseText))}})}}]),r}();e["default"]=c},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(1)),i=r(n(2)),a=n(17),u=function(){function e(t){(0,o["default"])(this,e),this.device={deviceType:"web",language:"en-US",screenHigh:0,screenWide:0},this.event={type:"",currentTime:0,title:"",url:"",referrer:"",data:{}},this.header={channelCode:t.channelCode,token:t.token,deviceId:"",userId:""}}return(0,i["default"])(e,[{key:"setDevice",value:function(){window&&window.screen&&(this.device.screenHigh=window.screen.height||0,this.device.screenWide=window.screen.width||0),navigator&&(this.device.language=navigator.language||"")}},{key:"getEvent",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};return Object.assign((0,a.clone)(this.event),{data:{},currentTime:(new Date).getTime(),title:document.title||"",referrer:document.referrer||"",url:document.URL||""},t)}},{key:"getHeader",value:function(){return this.header.deviceId=localStorage.getItem("deviceId")||"",this.header.userId=sessionStorage.getItem("userId")||"",this.header}}]),e}();e["default"]=u},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(1)),i=r(n(2)),a=r(n(8)),u=r(n(7)),c=r(n(55)),s=r(n(9)),f=r(n(14)),l=r(n(118)),d=r(n(119)),h=r(n(120)),p=r(n(121)),v=r(n(122)),y=r(n(123)),g=r(n(124)),m=r(n(125)),x=function(t){function n(t){var e;return(0,o["default"])(this,n),(e=(0,a["default"])(this,(0,u["default"])(n).call(this,document,"DOMContentLoaded"))).ctx=t,e.params=t.params,e.sender=t.sender,e.config=t.config,e}return(0,s["default"])(n,t),(0,i["default"])(n,[{key:"handler",value:function(){this.ctx.loadedEvent=this.params.getEvent({type:"loaded"}),this.sender.initWs(),Object.assign(this.ctx,{heatMap:new g["default"](this.ctx),phoneList:new m["default"](this.ctx),beforeUnload:new l["default"](this.ctx),popState:new p["default"](this.ctx),pushState:new v["default"](this.ctx),click:new d["default"](this.ctx),visibilityChange:new y["default"](this.ctx)});var t=new h["default"](this.ctx);(this.ctx.message=t).add(),console.log("collect start")}},{key:"add",value:function(){var t=this;"loading"===document.readyState?document.addEventListener?(0,c["default"])((0,u["default"])(n.prototype),"add",this).call(this):document.attachEvent("onreadystatechange",function(){"interactive"===document.readyState&&t.handler()}):(console.log("DOMContentLoaded event already trigged"),this.handler())}}]),n}(f["default"]);e["default"]=x},function(t,e){t.exports=function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(7);t.exports=function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(n,t){function r(t,e){return n.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.exports=r},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=r(n(12)),a=r(n(13)),u=r(n(1)),c=r(n(2)),s=r(n(8)),f=r(n(7)),l=r(n(9)),o=function(t){function n(t){var e;return(0,u["default"])(this,n),(e=(0,s["default"])(this,(0,f["default"])(n).call(this,window,"beforeunload"))).ctx=t,e.sender=t.sender,e.params=t.params,e}var e;return(0,l["default"])(n,t),(0,c["default"])(n,[{key:"handler",value:(e=(0,a["default"])(i["default"].mark(function r(){var e;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("".concat(this.type," event trigged")),e=this.params.getEvent({type:"unload"}),t.next=4,this.ctx.heatMap.code();case 4:return this.params.getHeader(),t.next=7,this.sender.send({header:this.params.header,device:this.params.device,event:e});case 7:this.ctx.heatMap.clear(),this.ctx.unload.clear(),this.ctx.message.remove();case 10:case"end":return t.stop()}},r,this)})),function o(){return e.apply(this,arguments)})}]),n}(r(n(14))["default"]);e["default"]=o},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(1)),i=r(n(2)),a=r(n(8)),u=r(n(7)),c=r(n(9)),s=r(n(14)),f=n(17),l=function(t){function n(t){var e;return(0,o["default"])(this,n),(e=(0,a["default"])(this,(0,u["default"])(n).call(this,document,"click"))).ctx=t,e}return(0,c["default"])(n,t),(0,i["default"])(n,[{key:"handler",value:function(t){console.log("".concat(this.type," event trigged"));var e=window.event||t,n=e.target||e.srcElement;if(n){var r="";r=10<n.innerText.length?"":n.innerText.replace(/[\s\r\n↵]/g,"")||n.title||n.name;var o,i,a="",u="";i=n.parentNode.innerText===r?(u=n.parentNode.nodeName.toLowerCase(),a=(0,f.getAllNodesPath)(n.parentNode),o=Math.round(e.offsetX/n.parentNode.offsetWidth*100),Math.round(e.offsetY/n.parentNode.offsetHeight*100)):("img"!==(u=n.nodeName.toLowerCase())||r||(r="图片"+ +new Date),"canvas"!==u||r||(r="canvas图表"+ +new Date),"body"===u&&(r="body"),a=(0,f.getAllNodesPath)(n),o=parseInt(e.offsetX/n.offsetWidth*100),parseInt(e.offsetY/n.offsetHeight*100)),this.ctx.heatMap.heats.push({x:o,y:i,nodeName:u,sign:a.join("/"),label:r||a.reverse().join("/")})}}},{key:"add",value:function(){"function"==typeof document.addEventListener?(console.log("click event added"),document.addEventListener("click",this.handler.bind(this),!0)):console.log("该浏览器不支持addEventListener")}},{key:"remove",value:function(){"function"==typeof document.addEventListener?(console.log("click event removed"),document.removeEventListener("click",this.handler.bind(this),!0)):console.log("该浏览器不支持addEventListener")}}]),n}(s["default"]);e["default"]=l},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var u=r(n(12)),o=r(n(13)),c=r(n(1)),s=r(n(2)),f=r(n(8)),l=r(n(7)),d=r(n(9)),i=function(t){function a(t){var e,n;(0,c["default"])(this,a),(e=(0,f["default"])(this,(0,l["default"])(a).call(this,window,"message"))).ctx=t,e.sender=t.sender,e.params=t.params,e.config=t.config;var r=e.config.iframe;try{(n=document.createElement("iframe")).id="frame",n.name="frame",n.src=r,n.style.display="none"}catch(i){n=document.createElement('<iframe id="iframe" name="frame" src="'+r+'" style="display: none"></iframe>')}document.body.appendChild(n);var o={type:"loaded"};return n.onload=function(){n.contentWindow.postMessage(JSON.stringify(o),"*")},e.iframe=n,e}var e;return(0,d["default"])(a,t),(0,s["default"])(a,[{key:"handler",value:(e=(0,o["default"])(u["default"].mark(function i(e){var n,r,o;return u["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.data&&"string"==typeof e.data&&JSON.parse(e.data),t.t0=n.type,t.next="deviceId"===t.t0?4:17;break;case 4:return localStorage.setItem("deviceId",n.deviceId),this.ctx.click.add(),this.ctx.visibilityChange.add(),this.ctx.beforeUnload.add(),this.ctx.popState.add(),this.ctx.pushState.add(),r=this.params.device,o=this.params.getHeader(),t.next=14,this.sender.send({device:r,header:o,event:this.ctx.loadedEvent});case 14:return this.ctx.heatMap.set(),this.ctx.phoneList.set(),t.abrupt("break",18);case 17:return t.abrupt("break",18);case 18:case"end":return t.stop()}},i,this)})),function n(t){return e.apply(this,arguments)})}]),a}(r(n(14))["default"]);e["default"]=i},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=r(n(12)),a=r(n(13)),u=r(n(1)),c=r(n(2)),s=r(n(8)),f=r(n(7)),l=r(n(9)),o=r(n(14)),d=(n(17),function(t){function n(t){var e;return(0,u["default"])(this,n),(e=(0,s["default"])(this,(0,f["default"])(n).call(this,window,"popstate"))).ctx=t,e.sender=t.sender,e.params=t.params,e}var e;return(0,l["default"])(n,t),(0,c["default"])(n,[{key:"handler",value:(e=(0,a["default"])(i["default"].mark(function r(e){var n;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"popstate"===e.type&&(console.log("popstate event trigged"),console.log("popstate event: ",e)),n=this.params.getEvent({type:"hashchange"}),this.params.getHeader(),t.next=5,this.sender.send({header:this.params.header,device:this.params.device,event:n});case 5:case"end":return t.stop()}},r,this)})),function o(t){return e.apply(this,arguments)})}]),n}(o["default"]));e["default"]=d},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(1)),i=r(n(2)),a=r(n(8)),u=r(n(7)),c=r(n(9)),s=function(t){function n(t){var e;return(0,o["default"])(this,n),(e=(0,a["default"])(this,(0,u["default"])(n).call(this,window,"pushstate"))).ctx=t,e.sender=t.sender,e}return(0,c["default"])(n,t),(0,i["default"])(n,[{key:"handler",value:function(t){console.log("pushstate event trigged"),console.log("pushstate event: ",t),this.ctx.popState.handler.call(this.ctx.popState,t)}},{key:"add",value:function(){var t=this.handler.bind(this),e=history.replaceState;e&&(this.replaceState=e,history.replaceState=function(){return t({state:arguments[0],param:arguments[1],url:arguments[2],type:"pushstate"}),e.apply(history,arguments)});var n=history.pushState;n&&(this.pushState=n,history.pushState=function(){return t({state:arguments[0],param:arguments[1],url:arguments[2],type:"pushstate"}),n.apply(history,arguments)})}},{key:"remove",value:function(){history.replaceState=this.replaceState,history.pushState=this.pushState}}]),n}(r(n(14))["default"]);e["default"]=s},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r(n(1)),i=r(n(2)),a=r(n(8)),u=r(n(7)),c=r(n(9)),s=function(t){function n(t){var e;return(0,o["default"])(this,n),(e=(0,a["default"])(this,(0,u["default"])(n).call(this,document,"visibilitychange"))).ctx=t,e}return(0,c["default"])(n,t),(0,i["default"])(n,[{key:"handler",value:function(){console.log("".concat(this.type," event trigged")),document.hidden?(this.ctx.heatMap.clear(),this.ctx.phoneList.clear()):(this.ctx.heatMap.set(),this.ctx.phoneList.set())}},{key:"add",value:function(){"boolean"==typeof document["hidden"]?(console.log("visibilitychange event added"),document.addEventListener("visibilitychange",this.handler.bind(this))):console.log("该浏览器不支持页面可见性API")}},{key:"remove",value:function(){"boolean"==typeof document["hidden"]?(console.log("visibilitychange event removed"),document.removeEventListener("visibilitychange",this.handler)):console.log("该浏览器不支持页面可见性API")}}]),n}(r(n(14))["default"]);e["default"]=s},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=r(n(12)),a=r(n(13)),u=r(n(1)),c=r(n(2)),s=r(n(8)),f=r(n(7)),l=r(n(55)),d=r(n(9)),o=function(t){function n(t){var e;return(0,u["default"])(this,n),(e=(0,s["default"])(this,(0,f["default"])(n).call(this,t.config.heatMapDelay,"heatMap"))).ctx=t,e.heats=[],e.sender=t.sender,e.params=t.params,e.heatmapUrls=t.config.heatmapUrls,e}var e;return(0,d["default"])(n,t),(0,c["default"])(n,[{key:"code",value:(e=(0,a["default"])(i["default"].mark(function r(){var e;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("heats.length: ",this.heats.length),0<this.heats.length)return e=this.params.getEvent({type:"heatmap",data:this.heats}),this.params.getHeader(),t.next=6,this.sender.send({device:this.params.device,header:this.params.header,event:e});t.next=7;break;case 6:this.heats=[];case 7:case"end":return t.stop()}},r,this)})),function o(){return e.apply(this,arguments)})},{key:"set",value:function(){this.isCollect()&&(0,l["default"])((0,f["default"])(n.prototype),"set",this).call(this)}},{key:"isCollect",value:function(){var t=!1;for(var e in this.heatmapUrls){var n=this.heatmapUrls[e].length;if("*"===this.heatmapUrls[e][n-1]){var r=this.heatmapUrls[e].substring(0,n-1);if(document.URL===r||-1!==document.URL.indexOf(r+"#")){t=!0;break}}else if(document.URL===this.heatmapUrls[e]){t=!0;break}}return t}}]),n}(r(n(56))["default"]);e["default"]=o},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var s=r(n(12)),o=r(n(13)),i=r(n(1)),a=r(n(2)),u=r(n(8)),f=r(n(7)),l=r(n(9)),c=function(t){function n(t){var e;return(0,i["default"])(this,n),(e=(0,u["default"])(this,(0,f["default"])(n).call(this,t.config.phoneListDelay,"phoneList"))).ctx=t,e.sender=t.sender,e.params=t.params,e.phoneLists=[],e}var e;return(0,l["default"])(n,t),(0,a["default"])(n,[{key:"code",value:(e=(0,o["default"])(s["default"].mark(function c(){var e,n,r,o,i,a,u;return s["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],n=document.body.innerText.match(/[0-9]+/g)||[],r=0;r<n.length;r++)-1===e.indexOf(n[r])&&/^1[34578]\d{9}$/.test(n[r])&&e.push(n[r]);for(o=document.getElementsByTagName("input")||[],i=0;i<o.length;i++)-1===e.indexOf(o[i]._value)&&/^1[34578]\d{9}$/.test(o[i]._value)&&e.push(o[i]._value);if(!(0<e.length)){t.next=15;break}if(console.log("采集到phone list"),a=e.join(","),-1===this.phoneLists.indexOf(a))return console.log("new phone list"),this.phoneLists.push(a),u=this.params.getEvent({type:"phonelist",data:e}),this.params.getHeader(),t.next=15,this.sender.send({device:this.params.device,header:this.params.header,event:u});t.next=15;break;case 15:case"end":return t.stop()}},c,this)})),function r(){return e.apply(this,arguments)})}]),n}(r(n(56))["default"]);e["default"]=c},function(t,e,n){"use strict";t.exports=Object.assign(n(127),n(128))},function(t,e,n){"use strict";t.exports={serverUrl:"http://localhost:8081/api",wsUrl:"ws://localhost:8081",channelCode:"default channelCode",token:"default token",heatmapUrls:["http://localhost:8081/heatMap*"],heatMapDelay:2e4,phoneListDelay:2e4,iframe:"http://localhost:8080/iframe.html"}},function(t,e,n){"use strict";t.exports={}}]);
//# sourceMappingURL=index.js.map